/**
 * @file test/module-manipulate-test.js
 * @author graeme@converse.ai
 * @description Add or subtract a unit of time from a parsed date
 * object.
 *
 * Generated by the converse-cli tool for use with the Converse AI
 * Plugins SDK. https://developers.converse.ai/
 */

const expect        = require('chai').expect;
const testDate      = require('./lib/request-test').testDate;
const testDuration  = require('./lib/request-test').testDuration;

describe('Manipulate Date/Time & Duration', function () {

  /* * * * * * * * * * * * * * * * * *
  * Without Input
  * * * * * * * * * * * * * * * * * */

  it('without input', function(done) {
    testDate({}, function(err, res, done) {
      expect(res.body).to.have.property('status').to.equal(1);
      expect(res.body).to.have.property('error').to.have.property('httpStatus').to.equal(400);
      done();
    }, done, 'manipulate');
  })

  /* * * * * * * * * * * * * * * * * *
  * Manipulate && Unix Timestamps && NO OFFSET
  * * * * * * * * * * * * * * * * * */

  it('Add 2 years with Unix Timestamp input (1562103000)', function(done) {
    testDate({
      input: '1499031000',
      operation: 'Add',
      years: '2',
    }, {
      years: 2019,
      months: 7,
      date: 2,
      hours: 21,
      minutes: 30,
      seconds: 0,
      iso: '2019-07-02T21:30:00+00:00',
      utc: '2019-07-02T21:30:00+00:00',
      unix: 1562103000,
      offset: '+00:00',
      isValid: true
    }, done, 'manipulate');
  })

  /* * * * * * * * * * * * * * * * * *
  * Add && ISO_8601 && NO OFFSET
  * * * * * * * * * * * * * * * * * */

  it('Add 2 years with ISO_8601 input (2017-07-02T21:30:00+00:00)', function(done) {
    testDate({
      input: '2017-07-02T21:30:00+00:00',
      operation: 'Add',
      years: '2',
    }, {
      years: 2019,
      months: 7,
      date: 2,
      hours: 21,
      minutes: 30,
      seconds: 0,
      iso: '2019-07-02T21:30:00+00:00',
      utc: '2019-07-02T21:30:00+00:00',
      unix: 1562103000,
      offset: '+00:00',
      isValid: true
    }, done, 'manipulate');
  })

  it('Add 2 months with ISO_8601 input (2017-07-02T21:30:00+00:00)', function(done) {
    testDate({
      input: '2017-07-02T21:30:00+00:00',
      operation: 'Add',
      months: '2',
    }, {
      years: 2017,
      months: 9,
      date: 2,
      hours: 21,
      minutes: 30,
      seconds: 0,
      iso: '2017-09-02T21:30:00+00:00',
      utc: '2017-09-02T21:30:00+00:00',
      unix: 1504387800,
      offset: '+00:00',
      isValid: true
    }, done, 'manipulate');
  })

  it('Add 2 days with ISO_8601 input (2017-07-02T21:30:00+00:00)', function(done) {
    testDate({
      input: '2017-07-02T21:30:00+00:00',
      operation: 'Add',
      days: '2',
    }, {
      years: 2017,
      months: 7,
      date: 4,
      hours: 21,
      minutes: 30,
      seconds: 0,
      iso: '2017-07-04T21:30:00+00:00',
      utc: '2017-07-04T21:30:00+00:00',
      unix: 1499203800,
      offset: '+00:00',
      isValid: true
    }, done, 'manipulate');
  })

  it('Add 2 hours with ISO_8601 input (2017-07-02T21:30:00+00:00)', function(done) {
    testDate({
      input: '2017-07-02T21:30:00+00:00',
      operation: 'Add',
      hours: '2',
    }, {
      years: 2017,
      months: 7,
      date: 2,
      hours: 23,
      minutes: 30,
      seconds: 0,
      iso: '2017-07-02T23:30:00+00:00',
      utc: '2017-07-02T23:30:00+00:00',
      unix: 1499038200,
      offset: '+00:00',
      isValid: true
    }, done, 'manipulate');
  })

  it('Add 2 minutes with ISO_8601 input (2017-07-02T21:30:00+00:00)', function(done) {
    testDate({
      input: '2017-07-02T21:30:00+00:00',
      operation: 'Add',
      minutes: '2',
    }, {
      years: 2017,
      months: 7,
      date: 2,
      hours: 21,
      minutes: 32,
      seconds: 0,
      iso: '2017-07-02T21:32:00+00:00',
      utc: '2017-07-02T21:32:00+00:00',
      unix: 1499031120,
      offset: '+00:00',
      isValid: true
    }, done, 'manipulate');
  })

  it('Add 2 seconds with ISO_8601 input (2017-07-02T21:30:00+00:00)', function(done) {
    testDate({
      input: '2017-07-02T21:30:00+00:00',
      operation: 'Add',
      seconds: '2',
    }, {
      years: 2017,
      months: 7,
      date: 2,
      hours: 21,
      minutes: 30,
      seconds: 2,
      iso: '2017-07-02T21:30:02+00:00',
      utc: '2017-07-02T21:30:02+00:00',
      unix: 1499031002,
      offset: '+00:00',
      isValid: true
    }, done, 'manipulate');
  })

  /* * * * * * * * * * * * * * * * * *
  * Subtract && ISO_8601 && NO OFFSET
  * * * * * * * * * * * * * * * * * */

  it('Subtract 10 years with ISO_8601 input (2017-07-02T21:30:00+00:00)', function(done) {
    testDate({
      input: '2017-07-02T21:30:00+00:00',
      operation: 'Subtract',
      years: '10',
    }, {
      years: 2007,
      months: 7,
      date: 2,
      hours: 21,
      minutes: 30,
      seconds: 0,
      iso: '2007-07-02T21:30:00+00:00',
      utc: '2007-07-02T21:30:00+00:00',
      unix: 1183411800,
      offset: '+00:00',
      isValid: true
    }, done, 'manipulate');
  })

  it('Subtract 10 months with ISO_8601 input (2017-07-02T21:30:00+00:00)', function(done) {
    testDate({
      input: '2017-07-02T21:30:00+00:00',
      operation: 'Subtract',
      months: '10',
    }, {
      years: 2016,
      months: 9,
      date: 2,
      hours: 21,
      minutes: 30,
      seconds: 0,
      iso: '2016-09-02T21:30:00+00:00',
      utc: '2016-09-02T21:30:00+00:00',
      unix: 1472851800,
      offset: '+00:00',
      isValid: true
    }, done, 'manipulate');
  })

  it('Subtract 10 days with ISO_8601 input (2017-07-02T21:30:00+00:00)', function(done) {
    testDate({
      input: '2017-07-02T21:30:00+00:00',
      operation: 'Subtract',
      days: '10',
    }, {
      years: 2017,
      months: 6,
      date: 22,
      hours: 21,
      minutes: 30,
      seconds: 0,
      iso: '2017-06-22T21:30:00+00:00',
      utc: '2017-06-22T21:30:00+00:00',
      unix: 1498167000,
      offset: '+00:00',
      isValid: true
    }, done, 'manipulate');
  })

  it('Subtract 10 hours with ISO_8601 input (2017-07-02T21:30:00+00:00)', function(done) {
    testDate({
      input: '2017-07-02T21:30:00+00:00',
      operation: 'Subtract',
      hours: '10',
    }, {
      years: 2017,
      months: 7,
      date: 2,
      hours: 11,
      minutes: 30,
      seconds: 0,
      iso: '2017-07-02T11:30:00+00:00',
      utc: '2017-07-02T11:30:00+00:00',
      unix: 1498995000,
      offset: '+00:00',
      isValid: true
    }, done, 'manipulate');
  })

  it('Subtract 10 minutes with ISO_8601 input (2017-07-02T21:30:00+00:00)', function(done) {
    testDate({
      input: '2017-07-02T21:30:00+00:00',
      operation: 'Subtract',
      minutes: '10',
    }, {
      years: 2017,
      months: 7,
      date: 2,
      hours: 21,
      minutes: 20,
      seconds: 0,
      iso: '2017-07-02T21:20:00+00:00',
      utc: '2017-07-02T21:20:00+00:00',
      unix: 1499030400,
      offset: '+00:00',
      isValid: true
    }, done, 'manipulate');
  })

  it('Subtract 10 seconds with ISO_8601 input (2017-07-02T21:30:00+00:00)', function(done) {
    testDate({
      input: '2017-07-02T21:30:00+00:00',
      operation: 'Subtract',
      seconds: '10',
    }, {
      years: 2017,
      months: 7,
      date: 2,
      hours: 21,
      minutes: 29,
      seconds: 50,
      iso: '2017-07-02T21:29:50+00:00',
      utc: '2017-07-02T21:29:50+00:00',
      unix: 1499030990,
      offset: '+00:00',
      isValid: true
    }, done, 'manipulate');
  })


  /* * * * * * * * * * * * * * * * * *
  * Set && ISO_8601 && NO OFFSET
  * * * * * * * * * * * * * * * * * */

  it('Set years with ISO_8601 input (2017-07-02T21:30:00+00:00)', function(done) {
    testDate({
      input: '2017-07-02T21:30:00+00:00',
      operation: 'Set',
      years: '2007',
    }, {
      years: 2007,
      months: 7,
      date: 2,
      hours: 21,
      minutes: 30,
      seconds: 0,
      iso: '2007-07-02T21:30:00+00:00',
      utc: '2007-07-02T21:30:00+00:00',
      unix: 1183411800,
      offset: '+00:00',
      isValid: true
    }, done, 'manipulate');
  })

  it('Set months with ISO_8601 input (2017-07-02T21:30:00+00:00)', function(done) {
    testDate({
      input: '2017-07-02T21:30:00+00:00',
      operation: 'Set',
      months: '10',
    }, {
      years: 2017,
      months: 10,
      date: 2,
      hours: 21,
      minutes: 30,
      seconds: 0,
      iso: '2017-10-02T21:30:00+00:00',
      utc: '2017-10-02T21:30:00+00:00',
      unix: 1506979800,
      offset: '+00:00',
      isValid: true
    }, done, 'manipulate');
  })

  it('Set date with ISO_8601 input (2017-07-02T21:30:00+00:00)', function(done) {
    testDate({
      input: '2017-07-02T21:30:00+00:00',
      operation: 'Set',
      days: '10',
    }, {
      years: 2017,
      months: 7,
      date: 10,
      hours: 21,
      minutes: 30,
      seconds: 0,
      iso: '2017-07-10T21:30:00+00:00',
      utc: '2017-07-10T21:30:00+00:00',
      unix: 1499722200,
      offset: '+00:00',
      isValid: true
    }, done, 'manipulate');
  })

  it('Set hours with ISO_8601 input (2017-07-02T21:30:00+00:00)', function(done) {
    testDate({
      input: '2017-07-02T21:30:00+00:00',
      operation: 'Set',
      hours: '10',
    }, {
      years: 2017,
      months: 7,
      date: 2,
      hours: 10,
      minutes: 30,
      seconds: 0,
      iso: '2017-07-02T10:30:00+00:00',
      utc: '2017-07-02T10:30:00+00:00',
      unix: 1498991400,
      offset: '+00:00',
      isValid: true
    }, done, 'manipulate');
  })

  it('Set hours with ISO_8601 input (2018-03-22T16:14:06+00:00) with null', function(done) {
    testDate({
      input: {"date":22,"hours":16,"isDate":true,"isValid":true,"iso":"2018-03-22T16:14:06+00:00","milliseconds":0,"minutes":14,"months":3,"offset":"+00:00","seconds":6,"unix":1521735246,"utc":"2018-03-22T16:14:06+00:00","years":2018},
      operation: 'Set',
      years: null,
      months: null,
      days: null,
      hours: '17',
      minutes: '0',
      seconds: '0',
      iso: null,
    }, {
      years: 2018,
      months: 3,
      date: 22,
      hours: 17,
      minutes: 0,
      seconds: 0,
      iso: '2018-03-22T17:00:00+00:00',
      utc: '2018-03-22T17:00:00+00:00',
      unix: 1521738000,
      offset: '+00:00',
      isValid: true
    }, done, 'manipulate');
  })

  it('Set minutes with ISO_8601 input (2017-07-02T21:30:00+00:00)', function(done) {
    testDate({
      input: '2017-07-02T21:30:00+00:00',
      operation: 'Set',
      minutes: '10',
    }, {
      years: 2017,
      months: 7,
      date: 2,
      hours: 21,
      minutes: 10,
      seconds: 0,
      iso: '2017-07-02T21:10:00+00:00',
      utc: '2017-07-02T21:10:00+00:00',
      unix: 1499029800,
      offset: '+00:00',
      isValid: true
    }, done, 'manipulate');
  })


  it('Set seconds with ISO_8601 input (2017-07-02T21:30:00+00:00)', function(done) {
    testDate({
      input: '2017-07-02T21:30:00+00:00',
      operation: 'Set',
      seconds: '10',
    }, {
      years: 2017,
      months: 7,
      date: 2,
      hours: 21,
      minutes: 30,
      seconds: 10,
      iso: '2017-07-02T21:30:10+00:00',
      utc: '2017-07-02T21:30:10+00:00',
      unix: 1499031010,
      offset: '+00:00',
      isValid: true
    }, done, 'manipulate');
  })


  /* * * * * * * * * * * * * * * * * *
  * Add && ISO_8601 && OFFSET
  * * * * * * * * * * * * * * * * * */

  it('Add 2 years with ISO_8601 input (2017-07-02T21:30:00-07:00) and offset (-07:00)', function(done) {
    testDate({
      input: '2017-07-02T21:30:00-07:00',
      operation: 'Add',
      years: '2',
    }, {
      years: 2019,
      months: 7,
      date: 2,
      hours: 21,
      minutes: 30,
      seconds: 0,
      iso: '2019-07-02T21:30:00-07:00',
      utc: '2019-07-03T04:30:00+00:00',
      unix: 1562128200,
      offset: '-07:00',
      isValid: true
    }, done, 'manipulate');
  })

  it('Add 2 months with ISO_8601 input (2017-07-02T21:30:00-07:00) and offset (-07:00)', function(done) {
    testDate({
      input: '2017-07-02T21:30:00-07:00',
      operation: 'Add',
      months: '2',
    }, {
      years: 2017,
      months: 9,
      date: 2,
      hours: 21,
      minutes: 30,
      seconds: 0,
      iso: '2017-09-02T21:30:00-07:00',
      utc: '2017-09-03T04:30:00+00:00',
      unix: 1504413000,
      offset: '-07:00',
      isValid: true
    }, done, 'manipulate');
  })

  it('Add 2 days with ISO_8601 input (2017-07-02T21:30:00-07:00) and offset (-07:00)', function(done) {
    testDate({
      input: '2017-07-02T21:30:00-07:00',
      operation: 'Add',
      days: '2',
    }, {
      years: 2017,
      months: 7,
      date: 4,
      hours: 21,
      minutes: 30,
      seconds: 0,
      iso: '2017-07-04T21:30:00-07:00',
      utc: '2017-07-05T04:30:00+00:00',
      unix: 1499229000,
      offset: '-07:00',
      isValid: true
    }, done, 'manipulate');
  })

  it('Add 2 hours with ISO_8601 input (2017-07-02T21:30:00-07:00) and offset (-07:00)', function(done) {
    testDate({
      input: '2017-07-02T21:30:00-07:00',
      operation: 'Add',
      hours: '2',
    }, {
      years: 2017,
      months: 7,
      date: 2,
      hours: 23,
      minutes: 30,
      seconds: 0,
      iso: '2017-07-02T23:30:00-07:00',
      utc: '2017-07-03T06:30:00+00:00',
      unix: 1499063400,
      offset: '-07:00',
      isValid: true
    }, done, 'manipulate');
  })

  it('Add 2 minutes with ISO_8601 input (2017-07-02T21:30:00-07:00) and offset (-07:00)', function(done) {
    testDate({
      input: '2017-07-02T21:30:00-07:00',
      operation: 'Add',
      minutes: '2',
    }, {
      years: 2017,
      months: 7,
      date: 2,
      hours: 21,
      minutes: 32,
      seconds: 0,
      iso: '2017-07-02T21:32:00-07:00',
      utc: '2017-07-03T04:32:00+00:00',
      unix: 1499056320,
      offset: '-07:00',
      isValid: true
    }, done, 'manipulate');
  })

  it('Add 2 seconds with ISO_8601 input (2017-07-02T21:30:00-07:00) and offset (-07:00)', function(done) {
    testDate({
      input: '2017-07-02T21:30:00-07:00',
      operation: 'Add',
      seconds: '2',
    }, {
      years: 2017,
      months: 7,
      date: 2,
      hours: 21,
      minutes: 30,
      seconds: 2,
      iso: '2017-07-02T21:30:02-07:00',
      utc: '2017-07-03T04:30:02+00:00',
      unix: 1499056202,
      offset: '-07:00',
      isValid: true
    }, done, 'manipulate');
  })

  /* * * * * * * * * * * * * * * * * *
  * Subtract && ISO_8601 && OFFSET
  * * * * * * * * * * * * * * * * * */

  it('Subtract 10 years with ISO_8601 input (2017-07-02T21:30:00-07:00) and offset (-07:00)', function(done) {
    testDate({
      input: '2017-07-02T21:30:00-07:00',
      operation: 'Subtract',
      years: '10',
    }, {
      years: 2007,
      months: 7,
      date: 2,
      hours: 21,
      minutes: 30,
      seconds: 0,
      iso: '2007-07-02T21:30:00-07:00',
      utc: '2007-07-03T04:30:00+00:00',
      unix: 1183437000,
      offset: '-07:00',
      isValid: true
    }, done, 'manipulate');
  })

  it('Subtract 10 months with ISO_8601 input (2017-07-02T21:30:00-07:00) and offset (-07:00)', function(done) {
    testDate({
      input: '2017-07-02T21:30:00-07:00',
      operation: 'Subtract',
      months: '10',
    }, {
      years: 2016,
      months: 9,
      date: 2,
      hours: 21,
      minutes: 30,
      seconds: 0,
      iso: '2016-09-02T21:30:00-07:00',
      utc: '2016-09-03T04:30:00+00:00',
      unix: 1472877000,
      offset: '-07:00',
      isValid: true
    }, done, 'manipulate');
  })

  it('Subtract 10 days with ISO_8601 input (2017-07-02T21:30:00-07:00) and offset (-07:00)', function(done) {
    testDate({
      input: '2017-07-02T21:30:00-07:00',
      operation: 'Subtract',
      days: '10',
    }, {
      years: 2017,
      months: 6,
      date: 22,
      hours: 21,
      minutes: 30,
      seconds: 0,
      iso: '2017-06-22T21:30:00-07:00',
      utc: '2017-06-23T04:30:00+00:00',
      unix: 1498192200,
      offset: '-07:00',
      isValid: true
    }, done, 'manipulate');
  })

  it('Subtract 10 hours with ISO_8601 input (2017-07-02T21:30:00-07:00) and offset (-07:00)', function(done) {
    testDate({
      input: '2017-07-02T21:30:00-07:00',
      operation: 'Subtract',
      hours: '10',
    }, {
      years: 2017,
      months: 7,
      date: 2,
      hours: 11,
      minutes: 30,
      seconds: 0,
      iso: '2017-07-02T11:30:00-07:00',
      utc: '2017-07-02T18:30:00+00:00',
      unix: 1499020200,
      offset: '-07:00',
      isValid: true
    }, done, 'manipulate');
  })

  it('Subtract 10 minutes with ISO_8601 input (2017-07-02T21:30:00-07:00) and offset (-07:00)', function(done) {
    testDate({
      input: '2017-07-02T21:30:00-07:00',
      operation: 'Subtract',
      minutes: '10',
    }, {
      years: 2017,
      months: 7,
      date: 2,
      hours: 21,
      minutes: 20,
      seconds: 0,
      iso: '2017-07-02T21:20:00-07:00',
      utc: '2017-07-03T04:20:00+00:00',
      unix: 1499055600,
      offset: '-07:00',
      isValid: true
    }, done, 'manipulate');
  })

  it('Subtract 10 seconds with ISO_8601 input (2017-07-02T21:30:00-07:00) and offset (-07:00)', function(done) {
    testDate({
      input: '2017-07-02T21:30:00-07:00',
      operation: 'Subtract',
      seconds: '10',
    }, {
      years: 2017,
      months: 7,
      date: 2,
      hours: 21,
      minutes: 29,
      seconds: 50,
      iso: '2017-07-02T21:29:50-07:00',
      utc: '2017-07-03T04:29:50+00:00',
      unix: 1499056190,
      offset: '-07:00',
      isValid: true
    }, done, 'manipulate');
  })


  /* * * * * * * * * * * * * * * * * *
  * Set && ISO_8601 && NO OFFSET
  * * * * * * * * * * * * * * * * * */

  it('Set years with ISO_8601 input (2017-07-02T21:30:00-07:00) and offset (-07:00)', function(done) {
    testDate({
      input: '2017-07-02T21:30:00-07:00',
      operation: 'Set',
      years: '2007',
    }, {
      years: 2007,
      months: 7,
      date: 2,
      hours: 21,
      minutes: 30,
      seconds: 0,
      iso: '2007-07-02T21:30:00-07:00',
      utc: '2007-07-03T04:30:00+00:00',
      unix: 1183437000,
      offset: '-07:00',
      isValid: true
    }, done, 'manipulate');
  })

  it('Set months with ISO_8601 input (2017-07-02T21:30:00-07:00) and offset (-07:00)', function(done) {
    testDate({
      input: '2017-07-02T21:30:00-07:00',
      operation: 'Set',
      months: '10',
    }, {
      years: 2017,
      months: 10,
      date: 2,
      hours: 21,
      minutes: 30,
      seconds: 0,
      iso: '2017-10-02T21:30:00-07:00',
      utc: '2017-10-03T04:30:00+00:00',
      unix: 1507005000,
      offset: '-07:00',
      isValid: true
    }, done, 'manipulate');
  })

  it('Set date with ISO_8601 input (2017-07-02T21:30:00-07:00) and offset (-07:00)', function(done) {
    testDate({
      input: '2017-07-02T21:30:00-07:00',
      operation: 'Set',
      days: '10',
    }, {
      years: 2017,
      months: 7,
      date: 10,
      hours: 21,
      minutes: 30,
      seconds: 0,
      iso: '2017-07-10T21:30:00-07:00',
      utc: '2017-07-11T04:30:00+00:00',
      unix: 1499747400,
      offset: '-07:00',
      isValid: true
    }, done, 'manipulate');
  })

  it('Set hours with ISO_8601 input (2017-07-02T21:30:00-07:00) and offset (-07:00)', function(done) {
    testDate({
      input: '2017-07-02T21:30:00-07:00',
      operation: 'Set',
      hours: '10',
    }, {
      years: 2017,
      months: 7,
      date: 2,
      hours: 10,
      minutes: 30,
      seconds: 0,
      iso: '2017-07-02T10:30:00-07:00',
      utc: '2017-07-02T17:30:00+00:00',
      unix: 1499016600,
      offset: '-07:00',
      isValid: true
    }, done, 'manipulate');
  })

  it('Set minutes with ISO_8601 input (2017-07-02T21:30:00-07:00) and offset (-07:00)', function(done) {
    testDate({
      input: '2017-07-02T21:30:00-07:00',
      operation: 'Set',
      minutes: '10',
    }, {
      years: 2017,
      months: 7,
      date: 2,
      hours: 21,
      minutes: 10,
      seconds: 0,
      iso: '2017-07-02T21:10:00-07:00',
      utc: '2017-07-03T04:10:00+00:00',
      unix: 1499055000,
      offset: '-07:00',
      isValid: true
    }, done, 'manipulate');
  })


  it('Set seconds with ISO_8601 input (2017-07-02T21:30:00-07:00) and offset (-07:00)', function(done) {
    testDate({
      input: '2017-07-02T21:30:00-07:00',
      operation: 'Set',
      seconds: '10',
    }, {
      years: 2017,
      months: 7,
      date: 2,
      hours: 21,
      minutes: 30,
      seconds: 10,
      iso: '2017-07-02T21:30:10-07:00',
      utc: '2017-07-03T04:30:10+00:00',
      unix: 1499056210,
      offset: '-07:00',
      isValid: true
    }, done, 'manipulate');
  })



  /* * * * * * * * * * * * * * * * * *
  * Add && Parsed && NO OFFSET
  * * * * * * * * * * * * * * * * * */

  it('Add 2 years with Parsed input ({2017-07-02T21:30:00+00:00})', function(done) {
    testDate({
      input: {
        years: 2017,
        months: 7,
        date: 2,
        hours: 21,
        minutes: 30,
        seconds: 0,
        milliseconds: 0,
        offset: '+00:00',
        iso: '2017-07-02T21:30:00+00:00',
        utc: '2017-07-02T21:30:00+00:00',
        unix: 1499031000
      },
      operation: 'Add',
      years: '2',
    }, {
      years: 2019,
      months: 7,
      date: 2,
      hours: 21,
      minutes: 30,
      seconds: 0,
      iso: '2019-07-02T21:30:00+00:00',
      utc: '2019-07-02T21:30:00+00:00',
      unix: 1562103000,
      offset: '+00:00',
      isValid: true
    }, done, 'manipulate');
  })

  it('Add 2 months with Parsed input ({2017-07-02T21:30:00+00:00})', function(done) {
    testDate({
      input: {
        years: 2017,
        months: 7,
        date: 2,
        hours: 21,
        minutes: 30,
        seconds: 0,
        milliseconds: 0,
        offset: '+00:00',
        iso: '2017-07-02T21:30:00+00:00',
        utc: '2017-07-02T21:30:00+00:00',
        unix: 1499031000
      },
      operation: 'Add',
      months: '2',
    }, {
      years: 2017,
      months: 9,
      date: 2,
      hours: 21,
      minutes: 30,
      seconds: 0,
      iso: '2017-09-02T21:30:00+00:00',
      utc: '2017-09-02T21:30:00+00:00',
      unix: 1504387800,
      offset: '+00:00',
      isValid: true
    }, done, 'manipulate');
  })

  it('Add 2 days with Parsed input ({2017-07-02T21:30:00+00:00})', function(done) {
    testDate({
      input: {
        years: 2017,
        months: 7,
        date: 2,
        hours: 21,
        minutes: 30,
        seconds: 0,
        milliseconds: 0,
        offset: '+00:00',
        iso: '2017-07-02T21:30:00+00:00',
        utc: '2017-07-02T21:30:00+00:00',
        unix: 1499031000
      },
      operation: 'Add',
      days: '2',
    }, {
      years: 2017,
      months: 7,
      date: 4,
      hours: 21,
      minutes: 30,
      seconds: 0,
      iso: '2017-07-04T21:30:00+00:00',
      utc: '2017-07-04T21:30:00+00:00',
      unix: 1499203800,
      offset: '+00:00',
      isValid: true
    }, done, 'manipulate');
  })

  it('Add 2 hours with Parsed input ({2017-07-02T21:30:00+00:00})', function(done) {
    testDate({
      input: {
        years: 2017,
        months: 7,
        date: 2,
        hours: 21,
        minutes: 30,
        seconds: 0,
        milliseconds: 0,
        offset: '+00:00',
        iso: '2017-07-02T21:30:00+00:00',
        utc: '2017-07-02T21:30:00+00:00',
        unix: 1499031000
      },
      operation: 'Add',
      hours: '2',
    }, {
      years: 2017,
      months: 7,
      date: 2,
      hours: 23,
      minutes: 30,
      seconds: 0,
      iso: '2017-07-02T23:30:00+00:00',
      utc: '2017-07-02T23:30:00+00:00',
      unix: 1499038200,
      offset: '+00:00',
      isValid: true
    }, done, 'manipulate');
  })

  it('Add 2 minutes with Parsed input ({2017-07-02T21:30:00+00:00})', function(done) {
    testDate({
      input: {
        years: 2017,
        months: 7,
        date: 2,
        hours: 21,
        minutes: 30,
        seconds: 0,
        milliseconds: 0,
        offset: '+00:00',
        iso: '2017-07-02T21:30:00+00:00',
        utc: '2017-07-02T21:30:00+00:00',
        unix: 1499031000
      },
      operation: 'Add',
      minutes: '2',
    }, {
      years: 2017,
      months: 7,
      date: 2,
      hours: 21,
      minutes: 32,
      seconds: 0,
      iso: '2017-07-02T21:32:00+00:00',
      utc: '2017-07-02T21:32:00+00:00',
      unix: 1499031120,
      offset: '+00:00',
      isValid: true
    }, done, 'manipulate');
  })

  it('Add 2 seconds with Parsed input ({2017-07-02T21:30:00+00:00})', function(done) {
    testDate({
      input: {
        years: 2017,
        months: 7,
        date: 2,
        hours: 21,
        minutes: 30,
        seconds: 0,
        milliseconds: 0,
        offset: '+00:00',
        iso: '2017-07-02T21:30:00+00:00',
        utc: '2017-07-02T21:30:00+00:00',
        unix: 1499031000
      },
      operation: 'Add',
      seconds: '2',
    }, {
      years: 2017,
      months: 7,
      date: 2,
      hours: 21,
      minutes: 30,
      seconds: 2,
      iso: '2017-07-02T21:30:02+00:00',
      utc: '2017-07-02T21:30:02+00:00',
      unix: 1499031002,
      offset: '+00:00',
      isValid: true
    }, done, 'manipulate');
  })

  /* * * * * * * * * * * * * * * * * *
  * Subtract && Parsed && NO OFFSET
  * * * * * * * * * * * * * * * * * */

  it('Subtract 10 years with Parsed input ({2017-07-02T21:30:00+00:00})', function(done) {
    testDate({
      input: {
        years: 2017,
        months: 7,
        date: 2,
        hours: 21,
        minutes: 30,
        seconds: 0,
        milliseconds: 0,
        offset: '+00:00',
        iso: '2017-07-02T21:30:00+00:00',
        utc: '2017-07-02T21:30:00+00:00',
        unix: 1499031000
      },
      operation: 'Subtract',
      years: '10',
    }, {
      years: 2007,
      months: 7,
      date: 2,
      hours: 21,
      minutes: 30,
      seconds: 0,
      iso: '2007-07-02T21:30:00+00:00',
      utc: '2007-07-02T21:30:00+00:00',
      unix: 1183411800,
      offset: '+00:00',
      isValid: true
    }, done, 'manipulate');
  })

  it('Subtract 10 months with Parsed input ({2017-07-02T21:30:00+00:00})', function(done) {
    testDate({
      input: {
        years: 2017,
        months: 7,
        date: 2,
        hours: 21,
        minutes: 30,
        seconds: 0,
        milliseconds: 0,
        offset: '+00:00',
        iso: '2017-07-02T21:30:00+00:00',
        utc: '2017-07-02T21:30:00+00:00',
        unix: 1499031000
      },
      operation: 'Subtract',
      months: '10',
    }, {
      years: 2016,
      months: 9,
      date: 2,
      hours: 21,
      minutes: 30,
      seconds: 0,
      iso: '2016-09-02T21:30:00+00:00',
      utc: '2016-09-02T21:30:00+00:00',
      unix: 1472851800,
      offset: '+00:00',
      isValid: true
    }, done, 'manipulate');
  })

  it('Subtract 10 days with Parsed input ({2017-07-02T21:30:00+00:00})', function(done) {
    testDate({
      input: {
        years: 2017,
        months: 7,
        date: 2,
        hours: 21,
        minutes: 30,
        seconds: 0,
        milliseconds: 0,
        offset: '+00:00',
        iso: '2017-07-02T21:30:00+00:00',
        utc: '2017-07-02T21:30:00+00:00',
        unix: 1499031000
      },
      operation: 'Subtract',
      days: '10',
    }, {
      years: 2017,
      months: 6,
      date: 22,
      hours: 21,
      minutes: 30,
      seconds: 0,
      iso: '2017-06-22T21:30:00+00:00',
      utc: '2017-06-22T21:30:00+00:00',
      unix: 1498167000,
      offset: '+00:00',
      isValid: true
    }, done, 'manipulate');
  })

  it('Subtract 10 hours with Parsed input ({2017-07-02T21:30:00+00:00})', function(done) {
    testDate({
      input: {
        years: 2017,
        months: 7,
        date: 2,
        hours: 21,
        minutes: 30,
        seconds: 0,
        milliseconds: 0,
        offset: '+00:00',
        iso: '2017-07-02T21:30:00+00:00',
        utc: '2017-07-02T21:30:00+00:00',
        unix: 1499031000
      },
      operation: 'Subtract',
      hours: '10',
    }, {
      years: 2017,
      months: 7,
      date: 2,
      hours: 11,
      minutes: 30,
      seconds: 0,
      iso: '2017-07-02T11:30:00+00:00',
      utc: '2017-07-02T11:30:00+00:00',
      unix: 1498995000,
      offset: '+00:00',
      isValid: true
    }, done, 'manipulate');
  })

  it('Subtract 10 minutes with Parsed input ({2017-07-02T21:30:00+00:00})', function(done) {
    testDate({
      input: {
        years: 2017,
        months: 7,
        date: 2,
        hours: 21,
        minutes: 30,
        seconds: 0,
        milliseconds: 0,
        offset: '+00:00',
        iso: '2017-07-02T21:30:00+00:00',
        utc: '2017-07-02T21:30:00+00:00',
        unix: 1499031000
      },
      operation: 'Subtract',
      minutes: '10',
    }, {
      years: 2017,
      months: 7,
      date: 2,
      hours: 21,
      minutes: 20,
      seconds: 0,
      iso: '2017-07-02T21:20:00+00:00',
      utc: '2017-07-02T21:20:00+00:00',
      unix: 1499030400,
      offset: '+00:00',
      isValid: true
    }, done, 'manipulate');
  })

  it('Subtract 10 seconds with Parsed input ({2017-07-02T21:30:00+00:00})', function(done) {
    testDate({
      input: {
        years: 2017,
        months: 7,
        date: 2,
        hours: 21,
        minutes: 30,
        seconds: 0,
        milliseconds: 0,
        offset: '+00:00',
        iso: '2017-07-02T21:30:00+00:00',
        utc: '2017-07-02T21:30:00+00:00',
        unix: 1499031000
      },
      operation: 'Subtract',
      seconds: '10',
    }, {
      years: 2017,
      months: 7,
      date: 2,
      hours: 21,
      minutes: 29,
      seconds: 50,
      iso: '2017-07-02T21:29:50+00:00',
      utc: '2017-07-02T21:29:50+00:00',
      unix: 1499030990,
      offset: '+00:00',
      isValid: true
    }, done, 'manipulate');
  })


  /* * * * * * * * * * * * * * * * * *
  * Edge cases
  * * * * * * * * * * * * * * * * * */

  it('Add 24 months with ISO_8601 input (2017-07-02T21:30:00+00:00)', function(done) {
    testDate({
      input: '2017-07-02T21:30:00+00:00',
      operation: 'Add',
      months: '24',
    }, {
      years: 2019,
      months: 7,
      date: 2,
      hours: 21,
      minutes: 30,
      seconds: 0,
      iso: '2019-07-02T21:30:00+00:00',
      utc: '2019-07-02T21:30:00+00:00',
      unix: 1562103000,
      offset: '+00:00',
      isValid: true
    }, done, 'manipulate');
  })

  it('Add 24 months and 26 hours with ISO_8601 input (2017-07-02T21:30:00+00:00)', function(done) {
    testDate({
      input: '2017-07-02T21:30:00+00:00',
      operation: 'Add',
      months: '24',
      hours: '26',
    }, {
      years: 2019,
      months: 7,
      date: 3,
      hours: 23,
      minutes: 30,
      seconds: 0,
      iso: '2019-07-03T23:30:00+00:00',
      utc: '2019-07-03T23:30:00+00:00',
      unix: 1562196600,
      offset: '+00:00',
      isValid: true
    }, done, 'manipulate');
  })


  it('Add Duration Object to Date (2017-07-02T21:30:00+00:00)', function(done) {
    testDate({
      input: '2017-07-02T21:30:00+00:00',
      operation: 'Add',
      iso: {
        isDuration: true,
        iso: 'PT19058H2M2S'
      },
    }, {
      years: 2019,
      months: 9,
      date: 4,
      hours: 23,
      minutes: 32,
      seconds: 2,
      iso: '2019-09-04T23:32:02+00:00',
      utc: '2019-09-04T23:32:02+00:00',
      unix: 1567639922,
      offset: '+00:00',
      isValid: true,
      isDate: true
    }, done, 'manipulate');
  })

  it('Add ISO-8601 Duration to Date (2017-07-02T21:30:00+00:00)', function(done) {
    testDate({
      input: '2017-07-02T21:30:00+00:00',
      operation: 'Add',
      iso: 'PT19058H2M2S'
    }, {
      years: 2019,
      months: 9,
      date: 4,
      hours: 23,
      minutes: 32,
      seconds: 2,
      iso: '2019-09-04T23:32:02+00:00',
      utc: '2019-09-04T23:32:02+00:00',
      unix: 1567639922,
      offset: '+00:00',
      isValid: true,
      isDate: true
    }, done, 'manipulate');
  })

});
